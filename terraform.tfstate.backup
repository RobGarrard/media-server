{"version":4,"terraform_version":"1.8.3","serial":37,"lineage":"cfb9b083-120b-ad8a-adc0-75973b8b2d68","outputs":{"instance_public_ip":{"value":"54.206.6.127","type":"string"}},"resources":[{"mode":"managed","type":"aws_iam_instance_profile","name":"ec2_instance_profile","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::811596954365:instance-profile/ec2_instance_profile","create_date":"2024-10-20T03:22:52Z","id":"ec2_instance_profile","name":"ec2_instance_profile","name_prefix":"","path":"/","role":"ec2_role","tags":{},"tags_all":{},"unique_id":"AIPA3Z5XSXL6SSCKXPHSV"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.ec2_role"]}]},{"mode":"managed","type":"aws_iam_policy","name":"s3_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::811596954365:policy/s3_policy","attachment_count":1,"description":"Policy to allow EC2 instance to interact with S3","id":"arn:aws:iam::811596954365:policy/s3_policy","name":"s3_policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"s3:ListBucket\",\"s3:GetObject\",\"s3:PutObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::robs-media-server\",\"arn:aws:s3:::robs-media-server/*\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA3Z5XSXL67VDM5JR6Q","tags":{},"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role","name":"ec2_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::811596954365:role/ec2_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-20T03:22:51Z","description":"","force_detach_policies":false,"id":"ec2_role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::811596954365:policy/s3_policy"],"max_session_duration":3600,"name":"ec2_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA3Z5XSXL64QGVXSTS4"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_role_policy_attachment","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"ec2_role-20241020032252371200000001","policy_arn":"arn:aws:iam::811596954365:policy/s3_policy","role":"ec2_role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_policy.s3_policy","aws_iam_role.ec2_role"]}]},{"mode":"managed","type":"aws_internet_gateway","name":"media_server_igw","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:ap-southeast-2:811596954365:internet-gateway/igw-0dc5b4afaf006c752","id":"igw-0dc5b4afaf006c752","owner_id":"811596954365","tags":{"Name":"media-server-igw"},"tags_all":{"Name":"media-server-igw"},"timeouts":null,"vpc_id":"vpc-0f3e75615deca4197"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["aws_vpc.media_server"]}]},{"mode":"managed","type":"aws_route53_zone","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:route53:::hostedzone/Z01887941FRK6221N5KXN","comment":"Managed by Terraform","delegation_set_id":"","force_destroy":false,"id":"Z01887941FRK6221N5KXN","name":"robort.site","name_servers":["ns-1504.awsdns-60.org","ns-1999.awsdns-57.co.uk","ns-68.awsdns-08.com","ns-980.awsdns-58.net"],"primary_name_server":"ns-1504.awsdns-60.org","tags":{},"tags_all":{},"vpc":[],"zone_id":"Z01887941FRK6221N5KXN"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_route_table","name":"media_server_public_rt","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:ap-southeast-2:811596954365:route-table/rtb-0ff5a605c237ce496","id":"rtb-0ff5a605c237ce496","owner_id":"811596954365","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0dc5b4afaf006c752","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"media-server-public-rt"},"tags_all":{"Name":"media-server-public-rt"},"timeouts":null,"vpc_id":"vpc-0f3e75615deca4197"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.media_server_igw","aws_vpc.media_server"]}]},{"mode":"managed","type":"aws_route_table_association","name":"media_server_public_rt_assoc","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-06fdcb23bcf9ff8ae","route_table_id":"rtb-0ff5a605c237ce496","subnet_id":"subnet-0b359accd2c3a1b3a","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.media_server_igw","aws_route_table.media_server_public_rt","aws_subnet.media_server_public_subnet","aws_vpc.media_server"]}]},{"mode":"managed","type":"aws_s3_bucket","name":"robs_media_server","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::robs-media-server","bucket":"robs-media-server","bucket_domain_name":"robs-media-server.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"robs-media-server.s3.ap-southeast-2.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"fcc9e1d0fbf0443ae399c8e88a0177d1f874f2d67616538eb66c0a3cbc27fe71","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z1WCIGYICN2BYD","id":"robs-media-server","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"ap-southeast-2","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Name":"robs-media-server"},"tags_all":{"Name":"robs-media-server"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_security_group","name":"media_server_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-southeast-2:811596954365:security-group/sg-07b812ef64d6fbbcb","description":"Allow SSH, ICMP, HTTP, HTTPS traffic","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-07b812ef64d6fbbcb","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":-1,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":-1},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":8096,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8096},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"media-server-sg","name_prefix":"","owner_id":"811596954365","revoke_rules_on_delete":false,"tags":{"Name":"media-server-sg"},"tags_all":{"Name":"media-server-sg"},"timeouts":null,"vpc_id":"vpc-0f3e75615deca4197"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_vpc.media_server"]}]},{"mode":"managed","type":"aws_subnet","name":"media_server_public_subnet","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-southeast-2:811596954365:subnet/subnet-0b359accd2c3a1b3a","assign_ipv6_address_on_creation":false,"availability_zone":"ap-southeast-2a","availability_zone_id":"apse2-az1","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0b359accd2c3a1b3a","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"811596954365","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"media-server-public-subnet"},"tags_all":{"Name":"media-server-public-subnet"},"timeouts":null,"vpc_id":"vpc-0f3e75615deca4197"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.media_server"]}]},{"mode":"managed","type":"aws_vpc","name":"media_server","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-southeast-2:811596954365:vpc/vpc-0f3e75615deca4197","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-007462247c23eabda","default_route_table_id":"rtb-0f1186881a2c4aa40","default_security_group_id":"sg-05775a14770307148","dhcp_options_id":"dopt-04b9e0679cec950e8","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0f3e75615deca4197","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0f1186881a2c4aa40","owner_id":"811596954365","tags":{"Name":"media-server-vpc"},"tags_all":{"Name":"media-server-vpc"}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
